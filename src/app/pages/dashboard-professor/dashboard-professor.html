<div class="dashboard-container">
  <div class="row">
    <!-- Sidebar -->
    <div class="col-md-3 bg-dark sidebar">
      <h4 class="text-white pt-4 pb-2 text-center">Painel do Professor</h4>
      <div class="list-group list-group-flush pt-3">
        <a href="#" class="list-group-item list-group-item-action active">
          <i class="bi bi-speedometer2 me-2"></i> Dashboard
        </a>
        <a href="#" class="list-group-item list-group-item-action">
          <i class="bi bi-calendar-event me-2"></i> Minhas Aulas
        </a>
        <a href="#" class="list-group-item list-group-item-action">
          <i class="bi bi-people me-2"></i> Alunos
        </a>
        <a href="#" class="list-group-item list-group-item-action">
          <i class="bi bi-book-half me-2"></i> Meus Cursos
        </a>
        <a href="#" class="list-group-item list-group-item-action">
          <i class="bi bi-gear me-2"></i> Configurações
        </a>
        <button (click)="logout()" class="list-group-item list-group-item-action logout-btn mt-5">
          <i class="bi bi-box-arrow-right me-2"></i> Sair
        </button>
      </div>
    </div>

    <!-- Conteúdo principal -->
    <div class="col-md-9 content-area py-4">
      <div class="d-flex justify-content-between align-items-center mb-5">
        <h1 class="fw-bold text-custom-primary">Bem-vindo, Prof. {{ userName || 'Usuário' }}!</h1>
        <button (click)="logout()" class="btn btn-outline-danger d-md-none">Sair</button>
      </div>

      <!-- Cards de resumo -->
      <div class="row">
        <div class="col-md-4 mb-4">
          <div class="card p-3 shadow-sm">
            <h5 class="text-muted">Aulas Hoje</h5>
            <p class="h3 fw-bold">{{ aulasHoje }}</p>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="card p-3 shadow-sm">
            <h5 class="text-muted">Alunos Ativos</h5>
            <p class="h3 fw-bold">{{ alunosAtivos }}</p>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="card p-3 shadow-sm">
            <h5 class="text-muted">Cursos Criados</h5>
            <p class="h3 fw-bold">{{ cursosCriados }}</p>
          </div>
        </div>
      </div>

      <!-- Pedidos de Microaula -->
      <div class="mt-5">
        <h2 class="fw-bold">Pedidos de Microaula</h2>
        <div class="card p-4 shadow-sm mt-3">
          <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngFor="let pedido of pedidosPendentes">
              <strong>Dúvida:</strong> {{ pedido.duvida }}<br>
              <span *ngIf="pedido.solicitante_email"><strong>Email:</strong> {{ pedido.solicitante_email }}</span>
              <div class="text-muted small">
                {{ pedido.data_pedido | date:'short' }}
              </div>
            </li>
            <li *ngIf="!pedidosPendentes.length" class="text-muted">Nenhum pedido de microaula pendente.</li>
          </ul>
        </div>
      </div>

      <!-- Próximas aulas -->
      <div class="mt-5">
        <h2 class="fw-bold">Próximas Aulas</h2>
        <div class="card p-4 shadow-sm mt-3">
          <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngFor="let aula of proximasAulas">
              <strong>{{ aula.titulo }}</strong> — {{ aula.data }} às {{ aula.hora }}
              <span class="badge bg-primary float-end">{{ aula.aluno }}</span>
            </li>
            <li *ngIf="proximasAulas.length === 0" class="text-muted">Nenhuma aula agendada.</li>
          </ul>
        </div>
      </div>

      <!-- Atalhos -->
      <div class="mt-5">
        <h2 class="fw-bold">Acesso Rápido</h2>
        <div class="card p-4 shadow-sm mt-3 d-flex flex-wrap gap-3">
          <button class="btn btn-outline-primary" (click)="abrirCriarCurso()">+ Novo Curso</button>
          <button class="btn btn-outline-secondary" (click)="verAlunos()">Ver Alunos</button>
          <button class="btn btn-outline-success" (click)="verAgenda()">Ver Agenda</button>
        </div>
      </div>
    </div>
  </div>
</div>
